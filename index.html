<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main">
          <nav style="background-color:  rgba(244, 111, 2, 0.637);" class="px-5 navbar navbar-expand-sm shadow">
            <div class="container-fluid">
              <a class="navbar-brand d-flex align-items-center" href="./index.html"><img src="./assets/food-app-logo.png"  width="120" height="80" alt="LOGO"><h4 class="text-light">OniFood</h4></a>
              
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link fw-bold text-light" aria-current="page" href="./index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link fw-bold text-light" href="./signup.html">Signup</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link fw-bold text-light" href="./login.html">Signin</a>
                  </li>
                  
                </ul>
              </div>
            </div>
          </nav>
          <div class="page1">
            <h1 class="text-light">Welcome to OniFood</h1>
            <h4 class="w-50 text-center mb-4 text-light">"Deliciously crafted dishes for every palate. Explore our culinary wonders and savor the flavors today!"</h4>
            <a href="./signup.html"><button style="background-color:  rgb(244, 111, 2);" class="btn btn-light rounded-5 text-white px-4">Signup</button></a>
          </div>
          
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
<script type="module">
  import{db,doc,getDoc} from "./firebaseConfig.js"
 window.addEventListener("load",async function(){
  const user = JSON.parse(localStorage.getItem("activeUser"))
  if(user){
    const docRef = doc(db, "users", user.user.uid);
    const docSnap = await getDoc(docRef);
    if(!docSnap.exists()){
        this.alert("No Such Document!")
        return
    }
      if(docSnap.data().type == "Vendor"){
        window.location.replace("./vendor.html")
      }else if(docSnap.data().type == "admin"){
          window.location.replace("./adminPage/admin.html")
      }else{
          window.location.replace("./customer.html")        
      }
      return
  }else{
        document.querySelector(".main").style.display = "block"
  }
})
</script>
</html>
